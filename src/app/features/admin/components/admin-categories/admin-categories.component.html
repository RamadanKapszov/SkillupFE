<div class="admin-header">
  <h1>üìö –ö–∞—Ç–µ–≥–æ—Ä–∏–∏</h1>
  <button class="btn primary" (click)="openCreate()">+ –ù–æ–≤–∞ –∫–∞—Ç–µ–≥–æ—Ä–∏—è</button>
</div>

<div *ngIf="loading" class="loading-box">–ó–∞—Ä–µ–∂–¥–∞–Ω–µ...</div>

<table class="table" *ngIf="!loading && categories.length > 0">
  <thead>
    <tr>
      <th>ID</th>
      <th>–ò–º–µ</th>
      <th>–û–ø–∏—Å–∞–Ω–∏–µ</th>
      <th>–ö—É—Ä—Å–æ–≤–µ</th>
      <th class="actions">–î–µ–π—Å—Ç–≤–∏—è</th>
    </tr>
  </thead>

  <tbody>
    <tr *ngFor="let c of categories">
      <td>{{ c.id }}</td>
      <td>{{ c.name }}</td>
      <td>{{ c.description || "-" }}</td>
      <td>{{ c.courseCount || 0 }}</td>

      <td class="actions">
        <button class="btn small edit" (click)="openEdit(c)">‚úèÔ∏è</button>
        <button class="btn small danger" (click)="deleteCategory(c)">üóëÔ∏è</button>
      </td>
    </tr>
  </tbody>
</table>

<div *ngIf="!loading && categories.length === 0" class="empty">
  –ù—è–º–∞ –Ω–∞–ª–∏—á–Ω–∏ –∫–∞—Ç–µ–≥–æ—Ä–∏–∏.
</div>

<!-- CREATE MODAL -->
<div class="modal-backdrop" *ngIf="showCreateModal">
  <div class="modal" (click)="$event.stopPropagation()">
    <h2>–ù–æ–≤–∞ –∫–∞—Ç–µ–≥–æ—Ä–∏—è</h2>
    <form [formGroup]="createForm">
      <label>–ò–º–µ</label>
      <input formControlName="name" />

      <label>–û–ø–∏—Å–∞–Ω–∏–µ</label>
      <textarea formControlName="description"></textarea>

      <div class="modal-actions">
        <button class="btn ghost" (click)="closeCreate()">–û—Ç–∫–∞–∂–∏</button>
        <button class="btn primary" (click)="createCategory()">–°—ä–∑–¥–∞–π</button>
      </div>
    </form>
  </div>
</div>

<!-- EDIT MODAL -->
<div class="modal-backdrop" *ngIf="showEditModal">
  <div class="modal" (click)="$event.stopPropagation()">
    <h2>–†–µ–¥–∞–∫—Ü–∏—è</h2>
    <form [formGroup]="editForm">
      <label>–ò–º–µ</label>
      <input formControlName="name" />

      <label>–û–ø–∏—Å–∞–Ω–∏–µ</label>
      <textarea formControlName="description"></textarea>

      <div class="modal-actions">
        <button class="btn ghost" (click)="closeEdit()">–û—Ç–∫–∞–∂–∏</button>
        <button class="btn primary" (click)="saveEdit()">–ó–∞–ø–∞–∑–∏</button>
      </div>
    </form>
  </div>
</div>
