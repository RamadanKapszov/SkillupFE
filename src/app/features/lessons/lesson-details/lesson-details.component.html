<div class="lesson-page" *ngIf="lesson && !loading; else loadingTpl">
  <div class="lesson-header">
    <button class="back-btn" (click)="goBack()">‚Üê –ù–∞–∑–∞–¥ –∫—ä–º –∫—É—Ä—Å–∞</button>
    <h2>{{ lesson.title }}</h2>
  </div>

  <!-- üë©‚Äçüè´ –ü—Ä–µ–ø–æ–¥–∞–≤–∞—Ç–µ–ª -->
  <div class="teacher-section" *ngIf="lesson.teacherUsername">
    <div class="teacher-avatar">
      <img
        [src]="
          'https://api.dicebear.com/7.x/initials/svg?seed=' +
          lesson.teacherUsername
        "
        alt="Teacher Avatar"
      />
    </div>
    <p class="teacher-name">{{ lesson.teacherUsername }}</p>
  </div>

  <!-- üé¨ –í–∏–¥–µ–æ —Å–µ–∫—Ü–∏—è -->
  <div *ngIf="lesson.contentUrl" class="lesson-video">
    <iframe
      [src]="lesson.contentUrl | safeUrl"
      frameborder="0"
      allowfullscreen
    ></iframe>
  </div>

  <!-- üìò –°—ä–¥—ä—Ä–∂–∞–Ω–∏–µ -->
  <div class="lesson-content">
    <p *ngIf="!lesson.contentUrl">‚ö†Ô∏è –ù—è–º–∞ –≤–∏–¥–µ–æ –∑–∞ —Ç–æ–∑–∏ —É—Ä–æ–∫.</p>

    <div class="lesson-text">
      <p>
        {{ lesson.description || "–ù—è–º–∞ –Ω–∞–ª–∏—á–Ω–æ –æ–ø–∏—Å–∞–Ω–∏–µ –∑–∞ —Ç–æ–∑–∏ —É—Ä–æ–∫." }}
      </p>
    </div>
  </div>

  <div class="lesson-footer">
    <button class="next-btn" (click)="nextLesson()">–°–ª–µ–¥–≤–∞—â —É—Ä–æ–∫ ‚Üí</button>
  </div>
</div>

<ng-template #loadingTpl>
  <div class="loading">
    <app-loading-spinner></app-loading-spinner>
  </div>
</ng-template>
