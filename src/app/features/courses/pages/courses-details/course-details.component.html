<div class="course-details-container" *ngIf="!loading && course">
  <!-- ğŸ–¼ï¸ Hero Section -->
  <div class="course-hero">
    <img
      [src]="course.imageUrl || 'assets/images/default-course.jpg'"
      alt="{{ course.title }}"
      class="course-hero-bg"
    />
    <div class="course-hero-overlay"></div>

    <div class="course-hero-content">
      <h1 class="course-title">{{ course.title }}</h1>
      <div class="course-meta">
        <span class="category" *ngIf="course.categoryName"
          >ğŸ·ï¸ {{ course.categoryName }}</span
        >
        <span class="teacher"
          >ğŸ‘¨â€ğŸ« {{ course.teacherUsername || "ĞĞµĞ¸Ğ·Ğ²ĞµÑÑ‚ĞµĞ½ Ğ¿Ñ€ĞµĞ¿Ğ¾Ğ´Ğ°Ğ²Ğ°Ñ‚ĞµĞ»" }}</span
        >
        <span class="created-at"
          >ğŸ“… {{ course.createdAt | date : "dd.MM.yyyy" }}</span
        >
      </div>
      <button class="enroll-btn" (click)="enroll()">ğŸ“ Ğ—Ğ°Ğ¿Ğ¸ÑˆĞ¸ ÑĞµ</button>
    </div>
  </div>

  <!-- ğŸ“˜ Course Description -->
  <div class="course-content">
    <p class="course-description">{{ course.description }}</p>

    <!-- ğŸ“š Lessons Section -->
    <div class="lessons-section" *ngIf="!lessonsLoading && lessons.length">
      <h2>ğŸ“š Ğ£Ñ€Ğ¾Ñ†Ğ¸ Ğ² ĞºÑƒÑ€ÑĞ°</h2>
      <div class="lessons-grid">
        <div
          class="lesson-card"
          *ngFor="let l of lessons"
          (click)="viewLesson(l.id)"
        >
          <div class="lesson-header">
            <div class="lesson-icon">ğŸ¥</div>
            <div class="lesson-info">
              <h3>{{ l.title }}</h3>
              <p class="lesson-desc">
                {{ l.description || "Ğ‘ĞµĞ· Ğ¾Ğ¿Ğ¸ÑĞ°Ğ½Ğ¸Ğµ" }}
              </p>
            </div>
          </div>
          <div class="lesson-footer">
            <span class="lesson-number">#{{ l.order }}</span>
            <button class="view-btn">ĞŸÑ€ĞµĞ³Ğ»ĞµĞ´Ğ°Ğ¹</button>
          </div>
        </div>
      </div>
    </div>

    <!-- âŒ No Lessons -->
    <div *ngIf="!lessonsLoading && !lessons.length" class="no-lessons">
      <p>âŒ ĞÑĞ¼Ğ° Ğ´Ğ¾Ğ±Ğ°Ğ²ĞµĞ½Ğ¸ ÑƒÑ€Ğ¾Ñ†Ğ¸ Ğ·Ğ° Ñ‚Ğ¾Ğ·Ğ¸ ĞºÑƒÑ€Ñ.</p>
    </div>

    <!-- â³ Loading Spinner -->
    <div *ngIf="lessonsLoading" class="loading">
      <app-loading-spinner></app-loading-spinner>
    </div>
  </div>
</div>
